<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>مبادرة معَن</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <button class="menu-toggle" aria-label="القائمة" id="menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <a href="index.html" class="logo" aria-label="الشعار">
      <img src="./assets/images/LOGO_all_white.png" alt="شعار معن" class="logo-img" id="logo-img" loading="lazy">
      <span class="logo-text">معن | Maan</span>
    </a>
    <nav class="nav-links" aria-label="روابط رئيسية" id="nav-links">

      <a href="#tracks">المسارات</a>
      <a href="#community">مجتمعنا</a>
      <a href="about.html">عن معَن</a>
      <a href="#footer-placeholder">تواصل معنا</a>
    </nav>
    <div class="auth-actions" id="auth-actions">
      <button class="ghost">تسجيل</button>
      <button class="solid">إنشاء حساب</button>
    </div>
  </header>

  <main>
    <section class="hero hero-slider hero-fullbleed" id="about">
      <div class="hero__text">
        <p class="eyebrow">مبادرة معَن</p>
        <h1>تمكين المجتمعات بالمعرفة</h1>
        <p class="lede">
          تعزيز المعرفة والمهارات المهنية للعاملين والمتطوعين في المجال الصحي عبر برامج تعليمية وتدريب مستمر.
        </p>
        <div class="actions">
          <button class="hero-cta">اكتشف أكثر</button>
        </div>
      </div>
    </section>


     
    <section class="tracks tracks-pattern" id="tracks">
      <div class="section-heading tracks-heading-with-pattern">
        <img src="./assets/patren/code_09.png" alt="pattern" class="tracks-heading-pattern" loading="lazy">
        <h3>مسارات مبادرة معَن</h3>
      </div>
      
      <div class="track-tabs-container">
        <div class="track-tabs">
          <div class="track-tabs-tab" data-category="skills">
            <div class="track-tabs-tab-content">
              <p class="track-tabs-tab-text">الأثر</p>
              <svg class="track-tabs-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress_bar-1 track-tabs__progress-bar">
              <div class="track-tabs-tab--progress--skills"></div>
              <svg viewBox="0 0 100 2" preserveAspectRatio="none">
                <path d="M 0,1 L 100,1" stroke="#0a7c66" stroke-width="2" fill-opacity="0" style="stroke-dasharray: 100, 100; stroke-dashoffset: 100;"></path>
              </svg>
            </div>
          </div>
          <div class="track-tabs-tab" data-category="leadership">
            <div class="track-tabs-tab-content">
              <p class="track-tabs-tab-text">القيادة</p>
              <svg class="track-tabs-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress_bar-1 track-tabs__progress-bar">
              <div class="track-tabs-tab--progress--leadership"></div>
              <svg viewBox="0 0 100 2" preserveAspectRatio="none">
                <path d="M 0,1 L 100,1" stroke="#0a7c66" stroke-width="2" fill-opacity="0" style="stroke-dasharray: 100, 100; stroke-dashoffset: 100;"></path>
              </svg>
            </div>
          </div>
          <div class="track-tabs-tab active" data-category="community">
            <div class="track-tabs-tab-content">
              <p class="track-tabs-tab-text">التعلم</p>
              <svg class="track-tabs-arrow" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress_bar-1 track-tabs__progress-bar">
              <div class="track-tabs-tab--progress--community"></div>
              <svg viewBox="0 0 100 2" preserveAspectRatio="none">
                <path d="M 0,1 L 100,1" stroke="#0a7c66" stroke-width="2" fill-opacity="0" style="stroke-dasharray: 100, 100; stroke-dashoffset: 0;"></path>
              </svg>
            </div>
          </div>
        </div>
      </div>

      <div class="track-content">
        <div class="track-content-header">
          <p class="track-content-description" id="track-content-description">تعزيز المعرفة والمهارات المهنية للعاملين والطﻼب في المجال الصحي عبر برامج تعليمية وتقييم مستمر.</p>
        </div>
        <!-- Skills Category -->
        <div class="card-grid track-category" data-category="skills" style="display: none; max-height: 0; overflow: hidden;">
          <a class="card-link" href="zakat.html">
            <article class="card">
              <div class="card__visual placeholder"></div>
              <div class="card__body">
                <p class="eyebrow">أثر</p>
                <h4>بصمة عطاء</h4>
                <p>برنامج لتمكين الطﻼب من
                      التطوع الفعال وترك أثر إيجابي في المجتمع الصحي</p>
              </div>
            </article>
          </a>
          <article class="card">
            <div class="card__visual placeholder"></div>
            <div class="card__body">
              <p class="eyebrow">أثر</p>
              <h4>ملتقى أثر</h4>
              <p>منصة نقاش عامة لجميع
                  التخصصات لتبادل اﻷفكار
                  وطرح اﻷسئلة في القطاع
                  الصحي</p>
            </div>
          </article>
        </div>

        <!-- Leadership Category -->
        <div class="card-grid track-category" data-category="leadership" style="display: none; max-height: 0; overflow: hidden;">
          <article class="card">
            <div class="card__visual placeholder"></div>
            <div class="card__body">
              <p class="eyebrow">القيادة</p>
              <h4>معسكر الهوية</h4>
              <p>معسكر يركز على تعليم
                  المهارات والمفاهيم في
                  التسويق الشخصي</p>
            </div>
          </article>
          <article class="card">
            <div class="card__visual placeholder"></div>
            <div class="card__body">
              <p class="eyebrow">القيادة</p>
              <h4>صنَّاع</h4>
              <p>برنامج يهتم بأساسيات مهارات
                  القيادة العامة ، والمهارات
                  الخاصة بالمجال الصحي</p>
            </div>
          </article>
        </div>

        <!-- Community Category (Default Active) -->
        <div class="card-grid track-category active" data-category="community">
          <a class="card-link" href="zakat.html">
            <article class="card">
                <div class="card__visual">
                    <img src="./assets/images/back_7.jpg" alt="زكاة علم" loading="lazy">
                </div>
              <div class="card__body">
                <p class="eyebrow">تعليم</p>
                <h4>زكاة علم</h4>
                <p>برنامج تفاعلي لتبادل الشروحات والمفاهيم الأساسية للمواد بين الطلاب.</p>
              </div>
            </article>
          </a>
          <a href="rafidah.html" class="card-link">
            <article class="card">
              <div class="card__visual">
                <img src="./assets/images/rafidah.jpg" alt="رفيدة" loading="lazy">
              </div>
              <div class="card__body">
                <p class="eyebrow">تعليم</p>
                <h4>رفيدة <span class="soon-badge">قريباً</span></h4>
                <p>نشرة أسبوعية تلخص أحدث وأهم الأبحاث والمستجدات الصحية.</p>
              </div>
            </article>
          </a>
          <a href="tababa.html" class="card-link">
            <article class="card">
              <div class="card__visual">
                <img src="./assets/images/back_9.jpg" alt="طبابة" loading="lazy">
              </div>
              <div class="card__body">
                <p class="eyebrow">تعليم</p>
                <h4>طبابة <span class="soon-badge">قريباً</span></h4>
                <p>برامج تهدف إلى خدمة المجتمع وتطوير البيئة المحلية.</p>
              </div>
            </article>
          </a>
        </div>
      </div>
    </section>




      <section class="about-section heading-pattern">
          <div class="about-section-content">
              <h2>كل ما تحتاجه لتنمية مهاراتك البحثية، العلمية، القيادية</h2>
              <a href="about.html" class="about-btn">عن معَن</a>
          </div>
      </section>

  </main>

  <div id="footer-placeholder"></div>

  <script>
    // Function to update logo based on screen size
    const updateLogo = () => {
      const logoImg = document.getElementById("logo-img");
      const topbar = document.querySelector(".topbar");
      const isMobile = window.innerWidth <= 968;
      
      if (isMobile) {
        // On mobile, use white logo initially, colored when scrolled
        if (topbar && topbar.classList.contains("scrolled")) {
          logoImg.src = "./assets/images/LOGO_mobile_colore_black.svg";
        } else {
          logoImg.src = "./assets/images/LOGO_mobile_all_white.svg";
        }
      } else {
        // Desktop behavior
        if (topbar && topbar.classList.contains("scrolled")) {
          logoImg.src = "./assets/images/LOGO_colored.png";
        } else {
          logoImg.src = "./assets/images/LOGO_all_white.png";
        }
      }
    };

    // Update logo on load and resize
    updateLogo();
    window.addEventListener("resize", updateLogo);

    window.addEventListener("scroll", () => {
      const topbar = document.querySelector(".topbar");
      const logoImg = document.getElementById("logo-img");
      const isMobile = window.innerWidth <= 968;
      
      if (window.scrollY > 50) {
        topbar.classList.add("scrolled");
        if (isMobile) {
          logoImg.src = "./assets/images/LOGO_mobile_colore_black.svg";
        } else {
          logoImg.src = "./assets/images/LOGO_colored.png";
        }
      } else {
        topbar.classList.remove("scrolled");
        if (isMobile) {
          logoImg.src = "./assets/images/LOGO_mobile_all_white.svg";
        } else {
          logoImg.src = "./assets/images/LOGO_all_white.png";
        }
      }
    });

    // Mobile menu toggle
    const menuToggle = document.getElementById("menu-toggle");
    const navLinks = document.getElementById("nav-links");
    const authActions = document.getElementById("auth-actions");

    // Function to close menu
    const closeMenu = () => {
      if (menuToggle) {
        menuToggle.classList.remove("active");
        navLinks.classList.remove("active");
        authActions.classList.remove("active");
      }
    };

    if (menuToggle) {
      menuToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        menuToggle.classList.toggle("active");
        navLinks.classList.toggle("active");
        authActions.classList.toggle("active");
      });

      // Close menu when clicking on a link
      navLinks.querySelectorAll("a").forEach(link => {
        link.addEventListener("click", () => {
          closeMenu();
        });
      });

      // Close menu when clicking outside
      document.addEventListener("click", (e) => {
        const isClickInsideMenu = navLinks.contains(e.target) || 
                                  authActions.contains(e.target) || 
                                  menuToggle.contains(e.target);
        
        if (!isClickInsideMenu && navLinks.classList.contains("active")) {
          closeMenu();
        }
      });

      // Prevent menu from closing when clicking inside it
      navLinks.addEventListener("click", (e) => {
        e.stopPropagation();
      });

      authActions.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    }

    // Track Tabs Functionality
    const trackTabs = document.querySelectorAll('.track-tabs-tab');
    const trackCategories = document.querySelectorAll('.track-category');
    
    // Check if mobile/tablet
    const isMobile = () => window.innerWidth <= 968;

    // Category description mapping
    const categoryDescriptions = {
      'skills': 'تعزيز المشاركة المجتمعية عبر التطوع والحوار وتبادل الخبرات لصناعة أثر مستدام',
      'leadership': 'تطوير القدرات القيادية ومهارات اتخاذ القرار والعمل الجماعي وبناء هوية شخصية قوية',
      'community': 'تعزيز المعرفة والمهارات المهنية للعاملين والطﻼب في المجال الصحي عبر برامج تعليمية وتقييم مستمر.'
    };

    // Function to update description
    const updateTrackTitle = (category) => {
      const descriptionElement = document.getElementById('track-content-description');
      
      if (descriptionElement && categoryDescriptions[category]) {
        descriptionElement.textContent = categoryDescriptions[category];
        descriptionElement.style.display = 'block';
      } else if (descriptionElement) {
        descriptionElement.style.display = 'none';
      }
    };

    trackTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const category = tab.getAttribute('data-category');
        const selectedCategory = document.querySelector(`.track-category[data-category="${category}"]`);
        const arrow = tab.querySelector('.track-tabs-arrow');
        
        // Update title
        updateTrackTitle(category);
        
        if (isMobile()) {
          // Mobile/Tablet: Accordion behavior
          const isActive = tab.classList.contains('active');
          
          // If clicking the same tab, toggle it
          if (isActive) {
            // Collapse current tab
            tab.classList.remove('active');
            const progressPath = tab.querySelector('.track-tabs__progress-bar svg path');
            if (progressPath) {
              progressPath.style.strokeDashoffset = '100';
            }
            if (arrow) {
              arrow.style.transform = 'rotate(0deg)';
            }
            if (selectedCategory) {
              selectedCategory.style.maxHeight = '0';
              selectedCategory.style.display = 'none';
              selectedCategory.classList.remove('active');
            }
          } else {
            // Remove active class from all tabs
            trackTabs.forEach(t => {
              t.classList.remove('active');
              const progressPath = t.querySelector('.track-tabs__progress-bar svg path');
              if (progressPath) {
                progressPath.style.strokeDashoffset = '100';
              }
              const tArrow = t.querySelector('.track-tabs-arrow');
              if (tArrow) {
                tArrow.style.transform = 'rotate(0deg)';
              }
            });
            
            // Hide all categories
            trackCategories.forEach(cat => {
              cat.style.maxHeight = '0';
              cat.style.display = 'none';
              cat.classList.remove('active');
            });
            
            // Add active class to clicked tab
            tab.classList.add('active');
            const activeProgressPath = tab.querySelector('.track-tabs__progress-bar svg path');
            if (activeProgressPath) {
              activeProgressPath.style.strokeDashoffset = '0';
            }
            if (arrow) {
              arrow.style.transform = 'rotate(180deg)';
            }
            
            // Show selected category with animation
            if (selectedCategory) {
              selectedCategory.style.display = 'grid';
              selectedCategory.classList.add('active');
              // Calculate height for smooth animation
              setTimeout(() => {
                const height = selectedCategory.scrollHeight;
                selectedCategory.style.maxHeight = height + 'px';
              }, 10);
            }
          }
        } else {
          // Desktop: Normal tab switching (show only active category)
          // Remove active class from all tabs
          trackTabs.forEach(t => {
            t.classList.remove('active');
            const progressPath = t.querySelector('.track-tabs__progress-bar svg path');
            if (progressPath) {
              progressPath.style.strokeDashoffset = '100';
            }
          });
          
          // Hide all categories
          trackCategories.forEach(cat => {
            cat.classList.remove('active');
            cat.style.display = 'none';
            cat.style.maxHeight = 'none';
          });
          
          // Add active class to clicked tab
          tab.classList.add('active');
          const activeProgressPath = tab.querySelector('.track-tabs__progress-bar svg path');
          if (activeProgressPath) {
            activeProgressPath.style.strokeDashoffset = '0';
          }
          
          // Show selected category
          if (selectedCategory) {
            selectedCategory.classList.add('active');
            selectedCategory.style.display = 'grid';
            selectedCategory.style.maxHeight = 'none';
          }
        }
      });
    });

    // Initialize active category on page load
    const initializeTabs = () => {
      const activeTab = document.querySelector('.track-tabs-tab.active');
      if (activeTab) {
        const activeCategory = activeTab.getAttribute('data-category');
        const activeCategoryEl = document.querySelector(`.track-category[data-category="${activeCategory}"]`);
        const activeArrow = activeTab.querySelector('.track-tabs-arrow');
        
        // Update title on initialization
        updateTrackTitle(activeCategory);
        
        if (activeCategoryEl) {
          activeCategoryEl.classList.add('active');
          
          if (isMobile()) {
            // Mobile: Set up accordion
            activeCategoryEl.style.display = 'grid';
            setTimeout(() => {
              const height = activeCategoryEl.scrollHeight;
              activeCategoryEl.style.maxHeight = height + 'px';
            }, 10);
          } else {
            // Desktop: Show normally
            activeCategoryEl.style.display = 'grid';
            activeCategoryEl.style.maxHeight = 'none';
          }
        }
        
        if (activeArrow && isMobile()) {
          activeArrow.style.transform = 'rotate(180deg)';
        }
      }
      
      // Hide all non-active categories
      trackCategories.forEach(cat => {
        if (!cat.classList.contains('active')) {
          cat.style.display = 'none';
          if (isMobile()) {
            cat.style.maxHeight = '0';
          }
        }
      });
    };

    // Initialize on page load
    initializeTabs();

    // Handle window resize
    window.addEventListener('resize', () => {
      initializeTabs();
    });
  </script>
  <script src="./js/footer.js"></script>
</body>
</html>

